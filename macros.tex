%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                              %
%   Sets                                                                       %
%                                                                              %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%  Number sets
\newcommand{\N}{\ensuremath{\mathbb{N}}}
\newcommand{\Z}{\ensuremath{\mathbb{Z}}}
\newcommand{\Q}{\ensuremath{\mathbb{Q}}}
\newcommand{\R}{\ensuremath{\mathbb{R}}}
\newcommand{\C}{\ensuremath{\mathbb{C}}}

% \newcommand{\matrixSet}{\ensuremath{\mathbb{M}}}
% \newcommand{\field}{\ensuremath{\mathbb{F}}}
\newcommand{\B}{\ensuremath{\mathcal{B}}}

% %  Word-related
\newcommand{\words}[1]{\ensuremath{\texttt{Words}\left(#1\right)}}  %  Set of all words over an alphabet #1.

%  Tree-related
\newcommand{\positions}{\texttt{Positions}}  %  Set of all positions in a tree. Subset of \N*.
\newcommand{\contexts}{\ensuremath{\texttt{Contexts}}}  %  Set of all contexts with #2 holes over alphabet #1.
\newcommand{\relations}{\ensuremath{\texttt{Relations}}}  %  Set of all relations of arity #2 over set #1.

\newcommand{\trees}[1]{\ensuremath{\texttt{Trees}\left(#1\right)}}  %  Set of all trees over an alphabet #1.

\newcommand{\realisableRelations}[2]{\ensuremath{\texttt{InducedRel}\left(#1, #2\right)}}

%  Miscellaneous
\newcommand{\e}{\varepsilon}
\newcommand{\vect}[1]{\ensuremath{\overline{\textbf{#1}}}}
\newcommand{\regular}[1]{\texttt{Regular}(#1)}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                              %
%   Two-ended Macros                                                           %
%                                                                              %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\set}[1]{\ensuremath{\left\{ #1 \right\}}}
\newcommand{\counting}[1]{\ensuremath{\left[ #1 \right]}}
\newcommand{\sem}[1]{\ensuremath{\llbracket #1 \rrbracket}}
\newcommand{\abs}[1]{\ensuremath{\left\lvert #1 \right\rvert}}
% \newcommand{\angular}[1]{\ensuremath{\langle}#1\ensuremath{\rangle}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                              %
%   Complexity Classes                                                         %
%                                                                              %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\bigo}[1]{\ensuremath{\mathcal{O}(#1)}}

\newcommand{\hard}{-hard}
\newcommand{\complete}{-complete}

%  NP
\newcommand{\np}{\textsc{NP}}
\newcommand{\nph}{\np\hard}
\newcommand{\npc}{\np\complete}

% %  co-NP
% \newcommand{\conp}{\textsc{co-NP}}
% \newcommand{\conph}{\conp\hard}
% \newcommand{\conpc}{\conp\complete}

% %  PSPACE
% \newcommand{\psp}{\textsc{PSPACE}}
% \newcommand{\psph}{\psp\hard}
% \newcommand{\pspc}{\psp\complete}

% %  NPSPACE
% \newcommand{\npsp}{\textsc{NPSPACE}}
% \newcommand{\npsph}{\npsp\hard}
% \newcommand{\npspc}{\npsp\complete}

%  EXPTime
\newcommand{\expt}{\textsc{EXPTime}}
\newcommand{\expth}{\expt\hard}
\newcommand{\exptc}{\expt\complete}

% %  2-EXPTime
% \newcommand{\twoexpt}{\textsc{2-EXPTime}}
% \newcommand{\twoexpth}{\twoexpt\hard}
% \newcommand{\twoexptc}{\twoexpt\complete}

% %  W[1]
% \newcommand{\wone}{\textsc{W}[1]}
% \newcommand{\woneh}{\wone\hard}
% \newcommand{\wonec}{\wone\complete}


% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% %                                                                              %
% %   Operators                                                                  %
% %                                                                              %
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\DeclareMathOperator{\rank}{rank}  %  Rank
\DeclareMathOperator{\dom}{dom}  %  Domain
\newcommand{\inv}{\ensuremath{^{-1}}}  %  Inverse

% \newcommand{\lift}[1]{\ensuremath{\widetilde{#1}}}
% \newcommand{\closure}[1]{\ensuremath{\overline{#1}}}

\newcommand{\operator}{\texttt{op}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                              %
%   Auxiliary                                                                  %
%                                                                              %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% %  Text colorings
\newcommand{\red}[1]{\textcolor{red}{#1}}
\newcommand{\blue}[1]{\textcolor{blue}{#1}}
% \newcommand{\pink}[1]{\textcolor{magenta}{#1}}

\newcommand{\todoMandate}[1]{\todo[inline]{#1}}
\newcommand{\todoQuestion}[1]{\todo[inline, color=blue!50]{#1}}

\newcommand{\src}{\mathit{src}}
\newcommand{\tgt}{\mathit{tgt}}

\newcommand{\tcp}{type-checking problem}
\newcommand{\rab}{ranked alphabet}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                              %
%   Language-related                                                           %
%                                                                              %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%  Alphabets
\newcommand{\alphabet}{\Sigma}
\newcommand{\seedAlphabet}{\ensuremath{\Gamma}}
\newcommand{\coreAlphabet}{\ensuremath{\Sigma_\text{core}}}
\newcommand{\variables}{\texttt{Var}}

%  Language symbols
\newcommand{\genericLanguage}{L}
\newcommand{\seedLanguage}{S}
\newcommand{\sourceLanguage}{\ensuremath{\genericLanguage_{\src}}}
\newcommand{\targetLanguage}{\ensuremath{\genericLanguage_{\tgt}}}


%  Seed language letters
% \newcommand{\exampleSeedLanguageStart}{\mathsf{start}}
% \newcommand{\exampleSeedLanguageEnd}{\mathsf{end}}
\newcommand{\exampleSeedLanguageLoop}{\ensuremath{\mathsf{loop}}}
\newcommand{\exampleSeedLanguageEndLoop}{\ensuremath{\mathsf{endLoop}}}
\newcommand{\exampleSeedLanguageNull}{\ensuremath{\mathsf{null}}}

\newcommand{\examplePatternLanguageFor}{\ensuremath{\mathsf{for}}}
% \newcommand{\examplePatternLanguageHead}{\mathsf{head}}
% \newcommand{\examplePatternLanguageBody}{\mathsf{body}}
\newcommand{\examplePatternLanguageWhile}{\ensuremath{\mathsf{while}}}

\newcommand{\examplePatternLanguageInit}{\ensuremath{\mathsf{init}}}
\newcommand{\examplePatternLanguageProp}{\ensuremath{\mathsf{cond}}}
\newcommand{\examplePatternLanguageIncr}{\ensuremath{\mathsf{incr}}}
\newcommand{\examplePatternLanguageNull}{\ensuremath{\mathsf{null}}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                              %
%   Automata-related                                                           %
%                                                                              %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% \newcommand{\dfa}{\textsf{DFA}}
% \newcommand{\nfa}{\textsf{NFA}}

\newcommand{\automaton}{\ensuremath{\mathcal{A}}}
\newcommand{\automatonB}{\ensuremath{\mathcal{B}}}
\newcommand{\sourceAutomatonB}{\ensuremath{\automatonB_{\src}}}
\newcommand{\targetAutomatonB}{\ensuremath{\automatonB_{\tgt}}}

\newcommand{\automatonStateSet}{Q}
\newcommand{\automatonTransitionSet}{\Delta}
\newcommand{\automatonInitialStateSet}{Q_\textsf{in}}
\newcommand{\automatonInitialState}{s}
\newcommand{\automatonFinalStateSet}{Q_\textsf{fin}}

\newcommand{\automataSet}[1]{\texttt{Automata}(#1)}

\newcommand{\transitionSystem}{\ensuremath{\mathcal{T}}}
\newcommand{\result}{\texttt{result}}

\newcommand{\start}{\ensuremath{\mathsf{start}}}

\newcommand{\pt}[1]{\ensuremath{#1}-Pebble Tree Transducer}

% \newcommand{\mealyMachine}{M}
% \newcommand{\mealyMachineStateSet}{Q}
% \newcommand{\mealyMachineTransitionSet}{\delta}
% \newcommand{\mealyMachineInitialState}{q_\textsf{in}}
% \newcommand{\mealyMachineOutputFunction}{\textsf{out}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                              %
%   Problem Names                                                              %
%                                                                              %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%  Full problem names
\newcommand{\matchingProblemFull}{\texttt{Matching Problem}}
\newcommand{\oneInThreeSatFull}{\texttt{1-in-3 SAT}}
\newcommand{\atomicTypecheckingProblemFull}{\texttt{Atomic Type-Checking Problem}}
\newcommand{\fullTypecheckingProblemFull}{\texttt{Type-Checking Problem}}
\newcommand{\relationRealisabilityFull}{\texttt{Relation Realisability}}
% \newcommand{\compatibilityProblemFull}{\texttt{Compatibility Problem}}
% \newcommand{\metaCompatibilityProblemFull}{\texttt{Meta Compatibility Problem}}
% \newcommand{\intersectionNonemptinessFull}{\texttt{Intersection Nonemptiness of DBTA}}
% \newcommand{\multipleRelationRealisabilityFull}{\texttt{Multiple Relation Realisability}}

%  Short problem names
\newcommand{\matchingProblemShort}{\texttt{MTCH}}
\newcommand{\oneInThreeSatShort}{\texttt{1-in-3 SAT}}
\newcommand{\atomicTypecheckingProblemShort}{\texttt{ATCP}}
\newcommand{\fullTypecheckingProblemShort}{\texttt{TCP}}
\newcommand{\relationRealisabilityShort}{\texttt{RLRS}}
% \newcommand{\compatibilityProblemShort}{\texttt{CMPT}}
% \newcommand{\metaCompatibilityProblemShort}{\texttt{m-CMPT}}
% \newcommand{\intersectionNonemptinessShort}{\texttt{DINP}}
% \newcommand{\multipleRelationRealisabilityShort}{\texttt{m-RLRS}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                              %
%   Functions                                                                  %
%                                                                              %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\homomorphism}{\ensuremath{\phi}}
\newcommand{\substitution}{\ensuremath{\sigma}}
% \newcommand{\valuation}{\ensuremath{\sigma}}

\newcommand{\sourceMap}{\ensuremath{\homomorphism_{\src}}}
\newcommand{\targetMap}{\ensuremath{\homomorphism_{\tgt}}}

\newcommand{\guardFunction}{\ensuremath{\mathcal{G}}}
\newcommand{\guard}[1]{\ensuremath{\guardFunction(#1)}}

\newcommand{\languageOf}[1]{\ensuremath{L(#1)}}
\newcommand{\variablesOf}[1]{\variables(#1)}
\newcommand{\arity}{\texttt{arity}}

\newcommand{\rev}{\texttt{Reverse}}

% \newcommand{\transductionFunction}{\ensuremath{\mathcal{T}}}

% \newcommand{\Id}{\textsf{Id}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                              %
%   Transformation-related                                                     %
%                                                                              %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\atomicTransform}{\ensuremath{T}}
\newcommand{\fullTransform}{\ensuremath{\mathbf{T}}}

\newcommand{\pattern}{\mathsf{Pat}}
\newcommand{\sourcePattern}{\pattern_{\src}}
\newcommand{\targetPattern}{\pattern_{\tgt}}

% \newcommand{\post}{\textsf{post}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                              %
%   Multi-line                                                                 %
%                                                                              %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\probdef}[4]{
    \noindent
    \fbox{\parbox{13cm}{\textbf{#1} (\textbf{#2})\\
    \textbf{Input: } #3\\
    \textbf{Question: } #4}}
}

\newcommand{\twopartfunc}[5]{
    #1 = \left\{ \begin{array}{ll}
        #2 & \mbox{ if } #3;\\
        #4 & \mbox{ if } #5.
    \end{array} \right.
}

% \newcommand{\threepartfunc}[7]{
%     #1 = \left\{ \begin{array}{lll}
%         #2 & \mbox{ if } #3;\\
%         #4 & \mbox{ if } #5;\\
%         #6 & \mbox{ if } #7.
%     \end{array} \right.
% }


% %%%%%%%%%% Deprecated %%%%%%%%%%

% \newcommand{\Transitions}{\automatonTransitionSet}
% \newcommand{\Automata}{\automataSet}
% \newcommand{\T}{\transitionSystem}
% \newcommand{\RealisableRelations}{\realisableRelations}
% \newcommand{\relT}{\mathit{Rel}}

% \newcommand{\seedLang}{\seedLanguage}
% \newcommand{\seedLangExLoop}{\exampleSeedLanguageLoop}
% \newcommand{\seedLangExEndLoop}{\exampleSeedLanguageEndLoop}

% \newcommand{\langExFor}{\examplePatternLanguageFor}
% \newcommand{\langExWhile}{\examplePatternLanguageWhile}
% \newcommand{\langExNull}{\examplePatternLanguageNull}
% \newcommand{\langExInit}{\examplePatternLanguageInit}
% \newcommand{\langExProp}{\examplePatternLanguageProp}
% \newcommand{\langExIncr}{\examplePatternLanguageIncr}

% \newcommand{\sourceLang}{\sourceLanguage}
% \newcommand{\targetLang}{\targetLanguage}

% \newcommand{\extendedTransitionRelation}{ETR}
% \newcommand{\Results}{\texttt{Results}}
% \newcommand{\q}{\vect{q}}
% \newcommand{\x}{\vect{x}}
% \newcommand{\D}{\mathcal{D}}

% % \newcommand{\tr}{\triangle}
% % \newcommand*\pa[1]{\textsf{A}{#1}}
% % \newcommand{\sn}{\ensuremath{\mathfrak{S}_n}}
% % \newcommand{\eac}{\ensuremath{\e}-\textsf{ACCEPT}}
% % \newcommand{\sts}{\ensuremath{\textsf{start}_\textsf{src}}}
% % \newcommand{\stt}{\ensuremath{\textsf{start}_\textsf{tgt}}}
% % \newcommand{\eds}{\ensuremath{\textsf{end}_\textsf{src}}}
% % \newcommand{\edt}{\ensuremath{\textsf{end}_\textsf{tgt}}}
% % \newcommand{\len}{\textsf{len}}

% % \newcommand{\nin}{\textsf{INT}}
% % \newcommand{\uln}{\textsf{ULN}}
% % \newcommand{\scsr}{\ensuremath{\mathcal{S}}-\textsf{CSR}}
% % \newcommand{\tvs}{\mbox{\textvisiblespace}}
% % \newcommand{\A}{\aut}
% % \newcommand{\reg}{\mathcal{R}eg}
% % \renewcommand{\S}{\mathcal{S}}
% % \newcommand{\undo}{\textsf{undo}}
% % \newcommand{\Beta}{\mathrm{B}}
% % \newcommand{\U}{\mathcal{U}}
% % \newcommand{\T}{\textsf{transd}}
% % \newcommand*\circled[1]{\tikz[baseline=(char.base)]{\node[shape=circle,draw,inner sep=2pt] (char) {#1};}}

% % \newcommand{\tsub}{\textsf{targetvaluation}}
% % \newcommand{\spat}{\textsf{srcPat}}
% % \newcommand{\tpat}{\textsf{tgtPat}}
% % \newcommand{\guardL}{\textsf{guardLang}}

% % \newcommand{\undoa}{\textsf{undo}}
% % \newcommand{\type}{\textsf{type}}
% % \newcommand{\rewind}{\textsf{rewind}}
% % \newcommand{\ff}{\textsf{fastForward}}
% % \newcommand{\addc}{\textsf{addC}}
% % \newcommand{\removec}{\textsf{removeC}}
% % \newcommand{\pto}{\rightharpoonup}

% % \newcommand{\actionset}{\textsf{ActionSet}}
% % \newcommand{\transducer}{T}
% % \newcommand{\Id}{\textsf{Id}}

% % % Real macros
% % % \newcommand{\reg}{\mathcal{R}eg}
% % % \newcommand{\T}{\mathcal{T}}
% % \newcommand{\q}{\overline{\textbf{q}}}
% % \newcommand{\x}{\overline{\textbf{x}}}
% % \newcommand{\B}{\mathcal{B}}


% % \newcommand{\Transitions}{\ensuremath{\Delta}}
% % \newcommand{\transition}{\ensuremath{\delta}}
% % \newcommand{\contextInducedFunction}{induced function}
% % \newcommand{\contextInducedRelation}{induced relation}
% % \newcommand{\Functions}{\texttt{Functions}}
% % \newcommand{\shape}{\texttt{Shape}}
% % \newcommand{\rep}{\mathit{rep}}


